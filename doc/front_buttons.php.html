<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Source: front/buttons.php - Juiz Social Post Sharer Documentation</title>
       
        <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
        <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NF3HV8T');</script>
        <!-- End Google Tag Manager -->
    </head>

    <body>
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NF3HV8T"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <div class="app">
            <section role="main" id="main">

                <h1 class="page-title">Source: front/buttons.php</h1>

                


    
    <section role="main">
        <pre class="prettyprint source linenums"><code>&lt;?php if ( ! defined( 'ABSPATH' ) ) {
	die( 'Cheatin&amp;#8217; uh?' );
}

if ( ! function_exists( 'get_juiz_sps' ) ) {

	/**
	 * Get the HTML for buttons to share on Networks.
	 *
	 * @param  array   $networks            This list of networks/buttons.
	 * @param  integer $counters            Should counter be displayed?
	 * @param  integer $is_current_page_url Is the current page or custom to share?
	 * @param  integer $is_shortcode        Is the shortcode calling this function?
	 * @param  string  $url_to_share        'permalink' | 'siteurl' | &amp;lt;custom_url&amp;gt;
	 * @return string                       Return the markup for the buttons.
	 *
	 * @author  Geoffrey Crofte
	 * @since   1.0
	 * @version 2.0.0
	 */
	function get_juiz_sps( $networks = array(), $counters = 0, $is_current_page_url = 0, $is_shortcode = 0, $url_to_share = NULL ) {
		global $post;

		$show_me = ( get_post_meta( $post->ID, '_jsps_metabox_hide_buttons', true) == 'on' ) ? false : true;
		$show_me = $is_shortcode ? true : $show_me;

		// Show buttons only if post meta doesn't ask to hide it and if it's not a shortcode.
		if ( ! $show_me ) {
			return;
		}

		// URL requested by user can be custom, permalink or siteurl (or null)
		$url_needed_by_user = ( $url_to_share != NULL ) ? $url_to_share : false;

		if ( in_array( $url_needed_by_user, array( 'permalink', 'siteurl' ) ) ) {
			switch( $url_needed_by_user ) {
				case 'permalink' :
					$url_needed_by_user = get_permalink();
					break;
				case 'siteurl' :
					$url_needed_by_user = get_bloginfo('url');
					break;
			}
		}

		$url = $post ? get_permalink() : juiz_sf_get_current_url( 'raw' );
		$url = ( $url_needed_by_user == false ) ? $url : $url_needed_by_user;

		if ( $is_current_page_url &amp;&amp;  $url_needed_by_user == false ) {
			$url = juiz_sf_get_current_url( 'raw' );
		}

		/**
		 * Sets the URL to be shared on all the networks activated.
		 * Another hook arrives later for each specific network called {@link juiz_sps_the_shared_permalink_for_*} where * is the network Slug.
		 * 
		 * @hook juiz_sps_the_shared_permalink
		 * 
	 	 * @since  1.0.0 First version
	 	 * 
	 	 * @param  {string}  $url                  The shared URL.
	 	 * @param  {int}     $is_current_page_url  Is the current page or custom to share?
	 	 * @param  {string}  $url_to_share         `permalink` | `siteurl` | &amp;lt;custom_url&amp;gt;
	 	 *
	 	 * 
	 	 * @return {string} The URL to be shared. You don't need to sanitize or urlencode it, it'll be done later in the process.
	 	 *
		 */
		$url = apply_filters( 'juiz_sps_the_shared_permalink', $url, $is_current_page_url, $url_to_share );

		// Texts and Image to share
		$text    = wp_strip_all_tags( esc_attr( rawurlencode( $post->post_title ) ) );
		$excerpt = rawurlencode( wp_strip_all_tags( $post->post_excerpt ) );
		$excerpt = empty( $excerpt ) ? rawurlencode( jsps_get_excerpt( $post ) . '…' ) : $excerpt;
		
		$image = has_post_thumbnail( $post->ID ) ? wp_get_attachment_image_src( get_post_thumbnail_id( $post->ID ), 'single-post-thumbnail' ) : '';

		/**
		 * Sets the word to be used below the total when counters are activated.
		 * 
		 * @hook juiz_sps_total_count_word
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text="Total:"        The text to be used.
	 	 * @return {string} The URL to be shared. You don't need to sanitize or urlencode it, it'll be done later in the process.
		 */
		$total_word = apply_filters( 'juiz_sps_total_count_word', __( 'Total: ', 'juiz-social-post-sharer' ) );

		/**
		 * Decides if the intro text before the buttons should be printed or not.
		 * 
		 * @hook juiz_sps_hide_intro
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {boolean}  $is_hidden=false  Set to false if you want to print it.
	 	 * @return {boolean} The true or false value, nothing else.
		 */
		$hide_intro_phrase = apply_filters( 'juiz_sps_hide_intro', false );

		/**
		 * Prints the text "Share the post" in introduction before the buttons if `juiz_sps_hide_intro`returns true.
		 * 
		 * @hook juiz_sps_intro_phrase_text
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text="Share·the·post"  The Text printed before the buttons.
	 	 * @return {string} The Text printed before the buttons.
		 */
		$share_the_post_sentence = apply_filters( 'juiz_sps_intro_phrase_text', __('Share the post', 'juiz-social-post-sharer') );

		/**
		 * Prints something before the `.juiz_sps_links` element.
		 * This is not an action hook ;)
		 * 
		 * @hook juiz_sps_before_the_sps
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text=""  The text or HTML code printed before the content.
	 	 * @return {string} The text or HTML code printed before the content.
		 */
		$before_the_sps_content = apply_filters( 'juiz_sps_before_the_sps', '' );

		/**
		 * Prints something after the `.juiz_sps_links` element, just before the other filter `juiz_sps_content` applies.
		 * This is not an action hook ;)
		 * 
		 * @hook juiz_sps_after_the_sps
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text=""  The text or HTML code printed after the content.
	 	 * @return {string} The text or HTML code printed after the content.
		 */
		$after_the_sps_content = apply_filters( 'juiz_sps_after_the_sps', '' );

		/**
		 * Prints something just before the `.juiz_sps_links_list` element.
		 * This is not an action hook ;)
		 * 
		 * @hook juiz_sps_before_the_list
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text=""  The text or HTML code printed before the content.
	 	 * @return {string} The text or HTML code printed before the content.
		 */
		$before_the_list = apply_filters( 'juiz_sps_before_the_list', '' );

		/**
		 * Prints something just after the `.juiz_sps_links_list` element.
		 * This is not an action hook ;)
		 * 
		 * @hook juiz_sps_after_the_list
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text=""  The text or HTML code printed after the content.
	 	 * @return {string} The text or HTML code printed after the content.
		 */
		$after_the_list = apply_filters( 'juiz_sps_after_the_list', '' );

		/**
		 * Prints something just before the first network markup (before the `li` element by default)
		 * This is not an action hook ;)
		 * 
		 * @hook juiz_sps_before_first_item
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text=""  The text or HTML code printed before the item.
	 	 * @return {string} The text or HTML code printed before the item.
		 */
		$before_first_i = apply_filters( 'juiz_sps_before_first_item', '' );

		/**
		 * Prints something just after the last network markup (after the last `li` element by default)
		 * This is not an action hook ;)
		 * 
		 * @hook juiz_sps_after_last_item
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $text=""  The text or HTML code printed after the item.
	 	 * @return {string} The text or HTML code printed after the item.
		 */
		$after_last_i = apply_filters( 'juiz_sps_after_last_item', '' );

		/**
		 * Sets new classes to the container.
		 * 
		 * @hook juiz_sps_container_classes
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string}  $classes=""  A text representing your new `class` attribute value.
	 	 * @return {string} The class(es) added to the existing `class` attribute.
		 */
		$container_classes = apply_filters( 'juiz_sps_container_classes', '' );

		/**
		 * Adds the `rel=""nofollow` attribute to every links/buttons.
		 * Pro tips, you can use this hook to add attributes to every link.
		 * 
		 * @hook juiz_sps_links_nofollow
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string} $attr='rel="nofollow"'  The attribute and its value.
	 	 * @return {string} The attribute and its value.
		 */
		$rel_nofollow = apply_filters( 'juiz_sps_links_nofollow', 'rel="nofollow"' );

		/**
		 * Marks up the container as a DIV by default.
		 * 
		 * @hook juiz_sps_container_tag
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string} $element='div'  The element name of the container.
	 	 * @return {string} The element name of the container.
		 */
		$div = apply_filters( 'juiz_sps_container_tag', 'div' );

		/**
		 * Marks up the intro phrase as a P by default.
		 * 
		 * @hook juiz_sps_phrase_tag
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string} $element='p'  The element name of the intro phrase.
	 	 * @return {string} The element name of the intro phrase.
		 */
		$p = apply_filters( 'juiz_sps_phrase_tag', 'p' );

		/**
		 * Marks up the list container as a UL by default.
		 * 
		 * @hook juiz_sps_list_container_tag
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string} $element='ul'  The element name of the list container.
	 	 * @return {string} The element name of the list container.
		 */
		$ul = apply_filters( 'juiz_sps_list_container_tag', 'ul' ); 

		/**
		 * Marks up the list item as a LI by default.
		 * 
		 * @hook juiz_sps_list_of_item_tag
		 * 
	 	 * @since  1.0.0 First version
	 	 * @param  {string} $element='li'  The element name of the list item.
	 	 * @return {string} The element name of the list item.
		 */
		$li = apply_filters( 'juiz_sps_list_of_item_tag', 'li' );


		// Get the plugin options.
		$juiz_sps_options = jsps_get_option();

		// Classes and attributes options.
		$juiz_sps_target_link = ( isset( $juiz_sps_options['juiz_sps_target_link'] ) &amp;&amp; $juiz_sps_options['juiz_sps_target_link'] == 1 ) ? ' target="_blank"' : '';
		$juiz_sps_hidden_name_class = ( isset( $juiz_sps_options['juiz_sps_hide_social_name'] ) &amp;&amp; $juiz_sps_options['juiz_sps_hide_social_name'] == 1 ) ? ' juiz_sps_hide_name' : '';
		$container_classes .= ( intval( $counters ) == 1 ) ? ' juiz_sps_counters' : '';
		$container_classes .= ( isset( $juiz_sps_options['juiz_sps_counter_option'] ) ) ? ' counters_' . $juiz_sps_options['juiz_sps_counter_option'] : ' counters_both';

		// Other options.
		$juiz_sps_display_where = isset( $juiz_sps_options['juiz_sps_display_where'] ) ? $juiz_sps_options['juiz_sps_display_where'] : '';
		$force_pinterest_snif = isset( $juiz_sps_options['juiz_sps_force_pinterest_snif'] ) ? intval( $juiz_sps_options['juiz_sps_force_pinterest_snif'] ) : 0;

		// Starting markup.
		$juiz_sps_content = $before_the_sps_content;
		$juiz_sps_content .= "\n" . '&lt;' . $div . ' class="juiz_sps_links ' . esc_attr( $container_classes ) . ' juiz_sps_displayed_' . $juiz_sps_display_where . '" data-post-id="' . $post -> ID . '">';
		$juiz_sps_content .= $hide_intro_phrase ? '' : "\n" . '&lt;' . $p . ' class="screen-reader-text juiz_sps_maybe_hidden_text">' . $share_the_post_sentence . ' "' . wp_strip_all_tags( get_the_title() ) . '"&lt;/' . $p . '>' . "\n";
		$juiz_sps_content .= $before_the_list;
		$juiz_sps_content .= "\n\t" . '&lt;' . $ul . ' class="juiz_sps_links_list' . esc_attr( $juiz_sps_hidden_name_class ) . '">';
		$juiz_sps_content .= $before_first_i;


		// Networks to display
		// 2 differents results by: 
		// -- using hook (options from admin panel)
		// -- using shortcode/template-function (the array $networks in parameter of this function)
		$juiz_sps_networks = array();
		$all_networks = jsps_get_all_registered_networks();

		if ( ! empty( $networks ) ) {
			foreach( $all_networks as $k => $v ) {
				$juiz_sps_networks[ $k ] = $v;
				$juiz_sps_networks[ $k ]['visible'] = (int) in_array( $k, $networks ); // set its visible value to 1 (visible)
			}
		} else {
			$juiz_sps_networks = $juiz_sps_options['juiz_sps_networks'];
		}

		// Set network order
		$order = ! empty( $networks ) ? $networks : $juiz_sps_options['juiz_sps_order'];
		
		// Get displayable (not necessarily displayed) Buttons
		$sorted_networks = jsps_get_displayable_networks( $juiz_sps_networks, $order );


		// Each links (come from options or manual array)
		foreach( $sorted_networks as $k => $v ) {
			
			// If not visible, got to next item.
			if ( ! isset( $v['visible'] ) || ( isset( $v['visible'] ) &amp;&amp; $v['visible'] === 0 ) ) {
				continue;
			}

			$api_link = $api_text = '';

			/**
			 * Sets the URL to be shared on a specific network, where `*` is the network shortname.
			 * 
			 * @hook juiz_sps_the_shared_permalink_for_*
			 * 
		 	 * @since  2.0.0 Adds `$is_current_page_url` and `$url_to_share` arguments.
		 	 * @since  1.0.0 First version
		 	 * 
		 	 * @param  {string}  $url                  The shared URL.
		 	 * @param  {int}     $is_current_page_url  Is the current page or custom to share?
		 	 * @param  {string}  $url_to_share         `permalink` | `siteurl` | &amp;lt;custom_url&amp;gt;
		 	 *
		 	 * 
		 	 * @return {string} The URL to be shared on the specific network. You don't need to sanitize or urlencode it, the after that.
		 	 *
			 */
			$url = urlencode( esc_url( apply_filters( 'juiz_sps_the_shared_permalink_for_' . $k, $url, $is_current_page_url, $url_to_share ) ) );

			$nw_name  = isset( $v['name'] ) ? $v['name'] : $k;

			/**
			 * The name of a specific network display on the button.
			 * 
			 * @hook juiz_sps_share_name_for_*
			 * 
		 	 * @since  1.0.0 First version
		 	 * @param  {string}  $nw_name  The original name of the network.
		 	 * @return {string}  The string returned after the renaming.
			 */
			$nw_name  = apply_filters( 'juiz_sps_share_name_for_' . $k, $nw_name );
			$more_att = $juiz_sps_target_link;

			/**
			 * The tooltip for a specific network. Default one is `Share this on %s`.
			 * 
			 * @hook juiz_sps_share_text_for_*
			 * 
		 	 * @since  1.0.0 First version
		 	 * @param  {string}  $text      The original text in the tooltip.
		 	 * @param  {string}  $nw_name   The original name —or modified name if you filtered {@link juiz_sps_share_name_for_*}— of the network.
		 	 * @return {string}  The string returned text in the tooltip for this specific network.
			 */
			$api_text = apply_filters( 'juiz_sps_share_text_for_' . $k, sprintf( __( 'Share this article on %s', 'juiz-social-post-sharer' ), $nw_name ) );


			switch ( $k ) {
				case 'twitter' :
					/**
					 * Edits the default Twitter nickname mentionned in the URL (via option) and override the option in the admin.&lt;br>
					 * **The option have to not to be empty in the admin for the hook to work.**
					 * 
					 * @hook juiz_sps_twitter_user
					 * 
				 	 * @since  1.4.9 First version
				 	 * @param  {string}  $text      The Twitter nickname set in the admin option.
				 	 * @return {string}  The new Twitter nickname to be mentionned.
					 */
					$twitter_user = isset( $juiz_sps_options['juiz_sps_twitter_user'] ) &amp;&amp; $juiz_sps_options['juiz_sps_twitter_user'] != '' ? '&amp;amp;related=' . apply_filters( 'juiz_sps_twitter_nickname', $juiz_sps_options['juiz_sps_twitter_user'] ) . '&amp;amp;via=' . apply_filters( 'juiz_sps_twitter_nickname', $juiz_sps_options['juiz_sps_twitter_user'] ) : '';

					$api_link = 'https://twitter.com/intent/tweet?source=webclient&amp;amp;original_referer=' . $url . '&amp;amp;text=' . $text . '&amp;amp;url=' . $url . $twitter_user;
					break;

				case 'facebook' :
					$api_link = 'https://www.facebook.com/sharer.php?u=' . $url;
					break;

				case 'pinterest' :
					if ( $image != '' &amp;&amp; $force_pinterest_snif == 0 ) {
						$api_link = 'https://pinterest.com/pin/create/button/?media=' . $image[0] . '&amp;amp;url=' . $url . '&amp;amp;title=' . get_the_title() . '&amp;amp;description=' . $excerpt;
					}
					else {
						$api_link = "javascript:void((function(){var%20e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','//assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);document.body.appendChild(e)})());";
						$more_att = '';
					}
					$api_text = apply_filters( 'juiz_sps_share_text_for_' . $k, __( 'Share an image of this article on Pinterest', 'juiz-social-post-sharer' ) );
					break;

				case 'viadeo' :
					$api_link = 'https://www.viadeo.com/en/widgets/share/preview?url=' . $url . '&amp;amp;comment=' . $text;
					break;

				case 'linkedin':
					$api_link = 'https://www.linkedin.com/sharing/share-offsite/?url=' . $url;
					break;

				case 'tumblr':
					$api_link = 'https://www.tumblr.com/widgets/share/tool?canonicalUrl=' . $url;
					break;

				case 'reddit':
					$api_link = 'https://www.reddit.com/submit?url=' . $url . '&amp;amp;title=' . $text;
					break;
				
				case 'mix':
					$api_link = 'https://mix.com/mixit?su=juiz-social-post-sharer&amp;amp;url=' . urlencode( $url );
					break;

				case 'whatsapp':
					$api_link = 'https://wa.me/?text=' . urlencode( '"' ) . $text . urlencode( '": ' . $url );
					break;

				case 'pocket':
					$api_link = 'https://getpocket.com/edit?url=' . urlencode( $url );
					break;

				case 'evernote':
					$api_link = 'https://www.addtoany.com/add_to/evernote?linkurl=' . urlencode( $url ) . '&amp;amp;linkname=' . $text . '&amp;amp;linknote=' . $excerpt;
					break;

				case 'diigo':
					$api_link = 'https://www.diigo.com/post?url=' . urlencode( $url ) . '&amp;amp;title='. $text .'&amp;amp;desc=' . $excerpt . '&amp;amp;client=juis-social-post-sharer'; // client=simplelet
					break;

				case 'weibo':
					// title tips by Aili (thank you ;p)
					$simplecontent = $text . esc_attr( urlencode( " : " . mb_substr( strip_tags( $post->post_content ), 0, 90, 'utf-8') ) );
					$api_link = 'http://service.weibo.com/share/share.php?title=' . $simplecontent . '&amp;amp;url=' . $url;
					break;

				case 'vk':
					$api_link = 'https://vkontakte.ru/share.php?url=' . $url;
					break;

				case 'mail' :
					if ( strpos( $juiz_sps_options['juiz_sps_mail_body'], '%%' ) || strpos( $juiz_sps_options['juiz_sps_mail_subject'], '%%' ) ) {
						$api_link = 'mailto:?subject=' . $juiz_sps_options['juiz_sps_mail_subject'] . '&amp;amp;body=' . $juiz_sps_options['juiz_sps_mail_body'];
						$api_link = preg_replace( array('#%%title%%#', '#%%siteurl%%#', '#%%permalink%%#', '#%%url%%#'), array( get_the_title(), get_site_url(), get_permalink(), $url ), $api_link );
					}
					else {
						$api_link = 'mailto:?subject=' . $juiz_sps_options['juiz_sps_mail_subject'] . '&amp;amp;body=' . $juiz_sps_options['juiz_sps_mail_body'] . ":" . $url;
					}
					$api_text = apply_filters( 'juiz_sps_share_text_for_' . $k, __( 'Share this article with a friend (email)', 'juiz-social-post-sharer') );
					break;

				case 'bookmark' :
					$api_link = $url;
					$api_text = apply_filters( 'juiz_sps_share_text_for_' . $k, __( 'Bookmark this article (on your browser)', 'juiz-social-post-sharer') );
					$more_att = ' data-alert="' . esc_attr( __( 'Press %s to bookmark this page.', 'juiz-social-post-sharer' ) ) . '"';
					break;

				case 'print' :
					$api_link = '#';
					$api_text = apply_filters( 'juiz_sps_share_text_for_' . $k, __( 'Print this page', 'juiz-social-post-sharer') );
					$more_att = '';
					break;

				default:
					if ( ! isset( $v['api_url'] ) ) break;
					
					$api_link = jsps_render_api_link( array(
						'api'   => $v['api_url'],
						'desc'  => $excerpt,
						'title' => $text,
						'url'   => $url
					) );

					$api_text = isset( $v['title'] ) ? $v['title'] : '';
			}

			/**
			 * Edits the API URL at the end. You can use it to add parameters like UTM.
			 * &lt;br> To edit a specific API URL, see {@link juiz_sps_*_url_params}
			 * 
			 * @hook juiz_sps_url_params
			 * 
		 	 * @since  2.0.0 First version
		 	 * @param  {string}  $params=''   Empty by default.
		 	 * @return {string}  The new parameters you added. To forget to start with a `&amp;amp;amp;`
			 */
			/**
			 * Edits the specific API URL at the end. You can use it to add parameters like UTM.
			 * 
			 * @hook juiz_sps_*_url_params
			 * 
		 	 * @since  2.0.0 First version
		 	 * @param  {string}  $params=''   Empty by default.
		 	 * @return {string}  The new parameters you added. To forget to start with a `&amp;amp;amp;`
			 */
			$api_link = $api_link . apply_filters( 'juiz_sps_' . $k . '_url_params', apply_filters( 'juiz_sps_url_params', '' ) );

			$item_content = '&lt;' . $li . ' class="juiz_sps_item juiz_sps_link_' . esc_attr( $k ) . '"' . ( isset( $v['color'] ) ? ' style="--jsps-custom-color:' . esc_attr( $v['color'] ) . ';' . ( isset( $v['hcolor'] ) ? '--jsps-custom-hover-color:' . esc_attr( $v['hcolor'] ) . ';' : '' ) . '"' : '' ) . '>&lt;a href="' . wp_strip_all_tags( esc_attr( $api_link ) ) . '" ' . $rel_nofollow . '' . $more_att . ' title="' . esc_attr( $api_text ) . '">&lt;span class="juiz_sps_icon jsps-' . esc_attr( $k ) . '">' . jsps_get_network_html_icon( $k, $v, true ) . '&lt;/span>&lt;span class="juiz_sps_network_name">' . esc_html( $nw_name ) . '&lt;/span>&lt;/a>&lt;/' . $li . '>';

			/**
			 * Edits the HTML code for every item including the LI and A elements.
			 * &lt;br> To edit the same code for a specific network, prefer the hook {@link juiz_sps_after_*_network_item}
			 * 
			 * @hook juiz_sps_after_each_network_item
			 * 
		 	 * @since  1.4.3 First version
		 	 *
		 	 * @param  {string}  $item_content  The link content.
		 	 * @param  {string}  $k  			The network shortname.
		 	 * @param  {string}  $nw_name		The display-name of the network.
		 	 * @param  {array}   $v				The information relative for a specific network.
		 	 *
		 	 * @return {string}  The modified HTML code.
			 */
			$item_content = apply_filters( 'juiz_sps_after_each_network_item', $item_content, $k, $nw_name, $v );

			/**
			 * Edits the HTML code for a specific network item including the LI and A elements
			 * 
			 * @hook juiz_sps_after_*_network_item
			 * 
		 	 * @since  1.4.3 First version
		 	 *
		 	 * @param  {string}  $item_content  The link content.
		 	 * @param  {string}  $k  			The network shortname.
		 	 * @param  {string}  $nw_name		The display-name of the network.
		 	 * @param  {array}   $v				The information relative for a specific network.
		 	 *
		 	 * @return {string}  The modified HTML code.
			 */
			$item_content = apply_filters( 'juiz_sps_after_' . $k . '_network_item', $item_content, $k, $nw_name, $v );

			$juiz_sps_content .= $item_content;

		} // end of FOREACH

		$general_counters = ( isset( $juiz_sps_options['juiz_sps_counter'] ) &amp;&amp; $juiz_sps_options['juiz_sps_counter'] == 1 ) ? 1 : 0;

		// no data-* attribute if user markup is not HTML5 :/
		$hidden_info = '&lt;input type="hidden" class="juiz_sps_info_plugin_url" value="' . JUIZ_SPS_PLUGIN_URL . '" />&lt;input type="hidden" class="juiz_sps_info_permalink" value="' . $url . '" />';

		$juiz_sps_content .= $after_last_i;

		// show total counter only when "both" or "total" is selected
		if ( isset( $juiz_sps_options['juiz_sps_counter_option'] ) ) {
			if ( $juiz_sps_options['juiz_sps_counter_option'] == 'both' || $juiz_sps_options['juiz_sps_counter_option'] == 'total' ) {
				$juiz_sps_content .= ( 
					( $general_counters == 1 &amp;&amp; intval( $counters ) == 1)
					||
					( $general_counters == 0 &amp;&amp; intval( $counters ) == 1 )
				 )
				 ?
				 '&lt;' . $li . ' class="juiz_sps_item juiz_sps_totalcount_item">&lt;span class="juiz_sps_totalcount" title="' . esc_attr( $total_word ) . '">&lt;span class="juiz_sps_t_nb">&lt;/span>&lt;/span>&lt;/' . $li . '>'
				 : '';
			}
		}
		$juiz_sps_content .= '&lt;/' . $ul . '>' . "\n\t";
		$juiz_sps_content .= $after_the_list;
		$juiz_sps_content .= ( ( $general_counters == 1 &amp;&amp; intval( $counters ) == 1 ) || ( $general_counters == 0 &amp;&amp; intval( $counters ) == 1 ) )  ? $hidden_info : '';
		$juiz_sps_content .= '&lt;/' . $div . '>' . "\n\n";
		$juiz_sps_content .= $after_the_sps_content;

		// Final markup
		/**
		 * The overall HTML content used to display everything in front.
		 * Use it if no other hook works for you and you want to edit its HTML.
		 * 
		 * @hook juiz_sps_content
		 * 
	 	 * @since  1.4.3 First version
	 	 *
	 	 * @param  {string}  $juiz_sps_content  The HTML Content.
	 	 * @param  {array}   $juiz_sps_options  All the plugin options to avoid a request ;p
	 	 *
	 	 * @return {string}  The new HTML code.
		 */
		return apply_filters( 'juiz_sps_content', $juiz_sps_content, $juiz_sps_options );

	}

}


// just a little alias
if ( ! function_exists( 'juiz_sps' ) ) {
	function juiz_sps( $networks = array(), $counters = 0, $current_page = 0, $is_shortcode = 0, $url_to_share = NULL ) {
		echo get_juiz_sps( $networks, $counters, $current_page, $is_shortcode, $url_to_share );
	}
}

// write buttons in content
add_filter( 'the_content', 'juiz_sps_print_links', 10, 1 );

/**
 * By default the buttons are display only into the content, not the excerpts.
 * Set to `true` if you want to change this behavior. 
 * 
 * @hook juiz_sps_buttons_in_excerpt
 * 
 * @since  1.3.3.7 First version
 * @param  {boolean}  $in_excerpt=false  Set to true if you want buttons in excerpt. 
 * @return Void. 
 */
if ( apply_filters( 'juiz_sps_buttons_in_excerpt', false ) ) {
	add_filter( 'the_excerpt', 'juiz_sps_print_links', 10, 1 );
}

if ( ! function_exists( 'juiz_sps_print_links' ) ) {
	function juiz_sps_print_links( $content ) {
		
		$juiz_sps_options = jsps_get_option();

		if ( isset( $juiz_sps_options['juiz_sps_display_in_types'] ) ) {

			// write buttons only if administrator checked this type
			$is_all_lists = in_array( 'all_lists', $juiz_sps_options['juiz_sps_display_in_types'] );
			$singular_options = $juiz_sps_options['juiz_sps_display_in_types'];
			unset( $singular_options['all_lists'] );

			$is_lists_authorized = ( is_archive() || is_front_page() || is_search() || is_tag() || is_post_type_archive() || is_home()) &amp;&amp; $is_all_lists ? true : false;
			$is_singular = is_singular( $singular_options );

			if ( $is_singular || $is_lists_authorized ) {

				$need_counters = $juiz_sps_options['juiz_sps_counter'] ? 1 : 0;

				$jsps_links = get_juiz_sps( array(), $need_counters );

				$juiz_sps_display_where = isset( $juiz_sps_options['juiz_sps_display_where'] ) ? $juiz_sps_options['juiz_sps_display_where'] : '';

				/**
				 * Allows you to do something before the concatenation with the post content. 
				 * 
				 * @hook juiz_sps_before_content_concat
				 *
				 * @since  2.0.0 First version
				 *
				 * @param  {string} $jsps_links              The HTML for all the front buttons.
				 * @param  {string} $juiz_sps_display_where  A keyword among `top`, `bottom` and `both`.
				 * @param  {string} $juiz_sps_options        All the plugin's options.
				 */
				do_action( 'juiz_sps_before_content_concat', $jsps_links, $juiz_sps_display_where, $juiz_sps_options );

				if ( 'top' == $juiz_sps_display_where || 'both' == $juiz_sps_display_where ) {
					$content = $jsps_links . $content;
				}
				if ( 'bottom' == $juiz_sps_display_where || 'both' == $juiz_sps_display_where ) {
					$content = $content . $jsps_links;
				}

				return $content;
			}
			else { 
				return $content;
			}
		}
		else {
			return $content;
		}

	} // end function
} // end if function exists
</code></pre>
    </section>





                <p class="copyright"><a href="https://wordpress.org/plugins/juiz-social-post-sharer/">Plugin</a> and documentation by <a href="https://geoffrey.crofte.fr/en/">Geoffrey Crofte</a> - All Right Reserved</p>
            </section>

            <nav role="navigation" id="navigation">
                <ul>
					<li class="nav-item-home"><a href="index.html"><img src="images/nobs-logo-horiz.svg" width="249" height="48" alt="Nobs Share Plugin - Back Home"></a></li>
					<li class="nav-item-tutorials">
						<span class="sub-item"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 10L2.54 7.02L3 18H1L1.48 6.59L0 6L10 2L20 6L10 10ZM10 5C9.45 5 9 5.22 9 5.5C9 5.78 9.45 6 10 6C10.55 6 11 5.78 11 5.5C11 5.22 10.55 5 10 5ZM10 11L15.57 8.77C16.28 9.71 16.77 10.84 16.93 12.07C16.63 12.03 16.32 12 16 12C13.45 12 11.22 13.37 10 15.41C9.38075 14.3708 8.50224 13.5101 7.45048 12.9124C6.39872 12.3146 5.20976 12.0002 4 12C3.68 12 3.37 12.03 3.07 12.07C3.23 10.84 3.72 9.71 4.43 8.77L10 11Z" fill="currentColor"/></svg>Tutorials</span>
						<ul>
							<li class="here-2-create-buttons-skin"><a href="tutorial-create-buttons-skin.html">Create a Buttons Skin</a></li>
								<li class="here-2-customize-buttons-appearance"><a href="tutorial-customize-buttons-appearance.html">Customize Buttons Appearance</a></li>
						</ul>
					</li>
					<li class="nav-item-filters">
						<span class="sub-item"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 4.5V2.5C3 2.5 6.34 1.5 10 1.5C13.66 1.5 17 2.5 17 2.5V4.5L12 11.53V18.5C12 18.5 10.78 18.41 9.75 17.91C8.72 17.41 8 16.5 8 16.5V11.53L3 4.5Z" fill="currentColor"/></svg>Filters</span>
						<ul>
							<li class="here-2-jsps_admin_show_promotion"><a href="jsps_admin_show_promotion.html">jsps_admin_show_promotion</a></li>
								<li class="here-2-jsps_get_displayable_networks"><a href="jsps_get_displayable_networks.html">jsps_get_displayable_networks</a></li>
								<li class="here-2-jsps_get_excerpt"><a href="jsps_get_excerpt.html">jsps_get_excerpt</a></li>
								<li class="here-2-jsps_get_excerpt_letter_count"><a href="jsps_get_excerpt_letter_count.html">jsps_get_excerpt_letter_count</a></li>
								<li class="here-2-jsps_get_initial_settings"><a href="jsps_get_initial_settings.html">jsps_get_initial_settings</a></li>
								<li class="here-2-jsps_get_network_html_icon"><a href="jsps_get_network_html_icon.html">jsps_get_network_html_icon</a></li>
								<li class="here-2-jsps_register_core_network"><a href="jsps_register_core_network.html">jsps_register_core_network</a></li>
								<li class="here-2-jsps_register_core_networks"><a href="jsps_register_core_networks.html">jsps_register_core_networks</a></li>
								<li class="here-2-jsps_register_core_skin"><a href="jsps_register_core_skin.html">jsps_register_core_skin</a></li>
								<li class="here-2-jsps_register_core_skins"><a href="jsps_register_core_skins.html">jsps_register_core_skins</a></li>
								<li class="here-2-jsps_register_curr_tmpl_skins"><a href="jsps_register_curr_tmpl_skins.html">jsps_register_curr_tmpl_skins</a></li>
								<li class="here-2-jsps_register_custom_network"><a href="jsps_register_custom_network.html">jsps_register_custom_network</a></li>
								<li class="here-2-jsps_register_custom_skin"><a href="jsps_register_custom_skin.html">jsps_register_custom_skin</a></li>
								<li class="here-2-jsps_render_api_link"><a href="jsps_render_api_link.html">jsps_render_api_link</a></li>
								<li class="here-2-jsps_show_modal_footer"><a href="jsps_show_modal_footer.html">jsps_show_modal_footer</a></li>
								<li class="here-2-juiz_sps_*_url_params"><a href="juiz_sps___url_params.html">juiz_sps_*_url_params</a></li>
								<li class="here-2-juiz_sps_after_*_network_item"><a href="juiz_sps_after___network_item.html">juiz_sps_after_*_network_item</a></li>
								<li class="here-2-juiz_sps_after_each_network_item"><a href="juiz_sps_after_each_network_item.html">juiz_sps_after_each_network_item</a></li>
								<li class="here-2-juiz_sps_after_last_item"><a href="juiz_sps_after_last_item.html">juiz_sps_after_last_item</a></li>
								<li class="here-2-juiz_sps_after_the_list"><a href="juiz_sps_after_the_list.html">juiz_sps_after_the_list</a></li>
								<li class="here-2-juiz_sps_after_the_sps"><a href="juiz_sps_after_the_sps.html">juiz_sps_after_the_sps</a></li>
								<li class="here-2-juiz_sps_before_first_item"><a href="juiz_sps_before_first_item.html">juiz_sps_before_first_item</a></li>
								<li class="here-2-juiz_sps_before_the_list"><a href="juiz_sps_before_the_list.html">juiz_sps_before_the_list</a></li>
								<li class="here-2-juiz_sps_before_the_sps"><a href="juiz_sps_before_the_sps.html">juiz_sps_before_the_sps</a></li>
								<li class="here-2-juiz_sps_buttons_in_excerpt"><a href="juiz_sps_buttons_in_excerpt.html">juiz_sps_buttons_in_excerpt</a></li>
								<li class="here-2-juiz_sps_container_classes"><a href="juiz_sps_container_classes.html">juiz_sps_container_classes</a></li>
								<li class="here-2-juiz_sps_container_tag"><a href="juiz_sps_container_tag.html">juiz_sps_container_tag</a></li>
								<li class="here-2-juiz_sps_content"><a href="juiz_sps_content.html">juiz_sps_content</a></li>
								<li class="here-2-juiz_sps_custom_skin_author"><a href="juiz_sps_custom_skin_author.html">juiz_sps_custom_skin_author</a></li>
								<li class="here-2-juiz_sps_custom_skin_author_url"><a href="juiz_sps_custom_skin_author_url.html">juiz_sps_custom_skin_author_url</a></li>
								<li class="here-2-juiz_sps_custom_skin_folder"><a href="juiz_sps_custom_skin_folder.html">juiz_sps_custom_skin_folder</a></li>
								<li class="here-2-juiz_sps_custom_skin_name"><a href="juiz_sps_custom_skin_name.html">juiz_sps_custom_skin_name</a></li>
								<li class="here-2-juiz_sps_hide_intro"><a href="juiz_sps_hide_intro.html">juiz_sps_hide_intro</a></li>
								<li class="here-2-juiz_sps_intro_phrase_text"><a href="juiz_sps_intro_phrase_text.html">juiz_sps_intro_phrase_text</a></li>
								<li class="here-2-juiz_sps_links_nofollow"><a href="juiz_sps_links_nofollow.html">juiz_sps_links_nofollow</a></li>
								<li class="here-2-juiz_sps_list_container_tag"><a href="juiz_sps_list_container_tag.html">juiz_sps_list_container_tag</a></li>
								<li class="here-2-juiz_sps_list_of_item_tag"><a href="juiz_sps_list_of_item_tag.html">juiz_sps_list_of_item_tag</a></li>
								<li class="here-2-juiz_sps_phrase_tag"><a href="juiz_sps_phrase_tag.html">juiz_sps_phrase_tag</a></li>
								<li class="here-2-juiz_sps_share_name_for_*"><a href="juiz_sps_share_name_for__.html">juiz_sps_share_name_for_*</a></li>
								<li class="here-2-juiz_sps_share_text_for_*"><a href="juiz_sps_share_text_for__.html">juiz_sps_share_text_for_*</a></li>
								<li class="here-2-juiz_sps_shortcode"><a href="juiz_sps_shortcode.html">juiz_sps_shortcode</a></li>
								<li class="here-2-juiz_sps_shortcode_atts"><a href="juiz_sps_shortcode_atts.html">juiz_sps_shortcode_atts</a></li>
								<li class="here-2-juiz_sps_the_shared_permalink"><a href="juiz_sps_the_shared_permalink.html">juiz_sps_the_shared_permalink</a></li>
								<li class="here-2-juiz_sps_the_shared_permalink_for_*"><a href="juiz_sps_the_shared_permalink_for__.html">juiz_sps_the_shared_permalink_for_*</a></li>
								<li class="here-2-juiz_sps_total_count_word"><a href="juiz_sps_total_count_word.html">juiz_sps_total_count_word</a></li>
								<li class="here-2-juiz_sps_twitter_user"><a href="juiz_sps_twitter_user.html">juiz_sps_twitter_user</a></li>
								<li class="here-2-juiz_sps_url_params"><a href="juiz_sps_url_params.html">juiz_sps_url_params</a></li>
								<li class="here-2-juiz_sps_use_default_css"><a href="juiz_sps_use_default_css.html">juiz_sps_use_default_css</a></li>
						</ul>
					</li>
					<li class="nav-item-actions">
						<span class="sub-item"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 12H15.82C15.65 12.7 15.38 13.35 15.01 13.93L16.55 15.47L14.45 17.57L12.91 16.03C12.33 16.39 11.68 16.66 11 16.82V19H8V16.82C7.32 16.66 6.67 16.39 6.09 16.03L4.55 17.57L2.43 15.45L3.97 13.91C3.61 13.33 3.34 12.68 3.18 12H1V9.03H3.17C3.33 8.33 3.61 7.68 3.97 7.09L2.43 5.55L4.53 3.45L6.07 4.99C6.65 4.62 7.31 4.35 8 4.18V2H11V4.18C11.68 4.34 12.33 4.61 12.91 4.97L14.45 3.43L16.57 5.55L15.03 7.09C15.39 7.68 15.67 8.33 15.83 9.03H18V12ZM9.5 13.5C11.16 13.5 12.5 12.16 12.5 10.5C12.5 8.84 11.16 7.5 9.5 7.5C7.84 7.5 6.5 8.84 6.5 10.5C6.5 12.16 7.84 13.5 9.5 13.5Z" fill="currentColor"/></svg>Actions</span>
						<ul>
							<li class="here-2-jsps_before_get_excerpt"><a href="jsps_before_get_excerpt.html">jsps_before_get_excerpt</a></li>
								<li class="here-2-jsps_before_update_option"><a href="jsps_before_update_option.html">jsps_before_update_option</a></li>
								<li class="here-2-juiz_sps_before_content_concat"><a href="juiz_sps_before_content_concat.html">juiz_sps_before_content_concat</a></li>
						</ul>
					</li>
				</ul>

                <p class="version">Doc. v 2.0.0</p>
            </nav>
        </div>
        
        <script src="scripts/juiz.js" defer></script>
        <script src="scripts/prettify/prettify.js" defer></script>
        <script src="scripts/prettify/lang-css.js" defer></script>
        <script>
            let launch = setInterval(function(){
                if (typeof prettyPrint === 'function' ) {
                    prettyPrint();
                    clearInterval(launch);
                    launch = null;
                }
            }, 50);
        </script>
        <script src="scripts/linenumber.js" defer></script>
    </body>
</html>